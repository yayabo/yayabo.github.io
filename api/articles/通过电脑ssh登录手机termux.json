{"title":"通过电脑ssh登录手机termux","slug":"通过电脑ssh登录手机termux","date":"2018-09-30T01:18:51.000Z","updated":"2018-11-04T03:51:27.891Z","comments":true,"path":"api/articles/通过电脑ssh登录手机termux.json","excerpt":null,"covers":["/articles/通过电脑ssh登录手机termux/登录到手机Termux了.png"],"content":"<p>假设我们使用的操作系统是Win10，因为Win10自带有ssh相关工具，所以省的我们自己再手动去安装客户端。</p>\n<h2 id=\"一、首先电脑端操作：\"><a href=\"#一、首先电脑端操作：\" class=\"headerlink\" title=\"一、首先电脑端操作：\"></a>一、首先电脑端操作：</h2><ol>\n<li>进入CMD命令行输入<code>ssh-keygen -t rsa</code>，生成公钥和私钥文件，碰到要求输入的时候直接回车就行。</li>\n<li>上一步执行完成之后来到你电脑的系统盘，进入“用户”目录，然后进入你名字对应的目录，应该能看到一个.ssh的文件夹，打开后里面有两个文件，一个是id_rsa.pub这个是你的公钥，一个是id_rsa这个是你的私钥。</li>\n<li>把id_rsa.pub公钥文件传输到你的手机download文件夹里。</li>\n</ol>\n<h2 id=\"二、然后我们转到手机上继续操作：\"><a href=\"#二、然后我们转到手机上继续操作：\" class=\"headerlink\" title=\"二、然后我们转到手机上继续操作：\"></a>二、然后我们转到手机上继续操作：</h2><ol>\n<li>在termux上安装openssh，输入<code>pkg install openssh</code>。</li>\n<li>为了Termux能读出我们手机上的download文件夹，需要执行<code>termux-setup-storage</code>命令。现在我们的download文件夹就被映射到了~/storage/downloads。</li>\n<li>然后我们通过cat命令把download文件夹里面的公钥文件内容写到authorized_keys文件里，执行如下命令，<code>cat ~/storage/downloads/id\\_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code>。</li>\n<li>上面三部操作完之后现在可以启动手机上ssh服务了，执行sshd命令。</li>\n<li>接下来查看手机的ip地址，输入ifconfig -a，可以看到你手机的ip地址形如192.168.1.2，记下来。</li>\n<li>再查看Termux用户名，输入whoami，能看到形如u0_a82，就是你的用户名，记下来。</li>\n</ol>\n<p>三、继续回到电脑上操作：</p>\n<ol>\n<li>输入<code>ssh u0_a82@192.168.1.2 -p 8022</code>，然后一路回车，即可登录到你手机的Termux了。</li>\n</ol>\n<p>成功登录后就能看到这个样子： </p>\n<img src=\"/articles/通过电脑ssh登录手机termux/登录到手机Termux了.png\" title=\"登录到手机Termux了\">","more":"<p>假设我们使用的操作系统是Win10，因为Win10自带有ssh相关工具，所以省的我们自己再手动去安装客户端。</p>\n<h2 id=\"一、首先电脑端操作：\"><a href=\"#一、首先电脑端操作：\" class=\"headerlink\" title=\"一、首先电脑端操作：\"></a>一、首先电脑端操作：</h2><ol>\n<li>进入CMD命令行输入<code>ssh-keygen -t rsa</code>，生成公钥和私钥文件，碰到要求输入的时候直接回车就行。</li>\n<li>上一步执行完成之后来到你电脑的系统盘，进入“用户”目录，然后进入你名字对应的目录，应该能看到一个.ssh的文件夹，打开后里面有两个文件，一个是id_rsa.pub这个是你的公钥，一个是id_rsa这个是你的私钥。</li>\n<li>把id_rsa.pub公钥文件传输到你的手机download文件夹里。</li>\n</ol>\n<h2 id=\"二、然后我们转到手机上继续操作：\"><a href=\"#二、然后我们转到手机上继续操作：\" class=\"headerlink\" title=\"二、然后我们转到手机上继续操作：\"></a>二、然后我们转到手机上继续操作：</h2><ol>\n<li>在termux上安装openssh，输入<code>pkg install openssh</code>。</li>\n<li>为了Termux能读出我们手机上的download文件夹，需要执行<code>termux-setup-storage</code>命令。现在我们的download文件夹就被映射到了~/storage/downloads。</li>\n<li>然后我们通过cat命令把download文件夹里面的公钥文件内容写到authorized_keys文件里，执行如下命令，<code>cat ~/storage/downloads/id\\_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code>。</li>\n<li>上面三部操作完之后现在可以启动手机上ssh服务了，执行sshd命令。</li>\n<li>接下来查看手机的ip地址，输入ifconfig -a，可以看到你手机的ip地址形如192.168.1.2，记下来。</li>\n<li>再查看Termux用户名，输入whoami，能看到形如u0_a82，就是你的用户名，记下来。</li>\n</ol>\n<p>三、继续回到电脑上操作：</p>\n<ol>\n<li>输入<code>ssh u0_a82@192.168.1.2 -p 8022</code>，然后一路回车，即可登录到你手机的Termux了。</li>\n</ol>\n<p>成功登录后就能看到这个样子： </p>\n<img src=\"/articles/通过电脑ssh登录手机termux/登录到手机Termux了.png\" title=\"登录到手机Termux了\">","categories":[{"name":"手机上编程","path":"api/categories/手机上编程.json"}],"tags":[{"name":"Termux","path":"api/tags/Termux.json"}]}